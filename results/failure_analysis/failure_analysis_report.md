# 失败案例分析报告

**生成时间:** 2025-11-06 12:47:25  
**分析模型:** ResNet18  
**总样本数:** 100

---

## 执行摘要

本报告分析了5种L0攻击方法在ResNet18模型上的失败案例，
旨在识别"硬样本"（难以攻击的样本）并理解失败原因。

---

## 1. 样本分类统计

### 1.1 整体分布

| 类别 | 数量 | 百分比 | 定义 |
|------|------|--------|------|
| **硬样本** | 7 | 7% | 所有5种方法都失败 |
| **部分失败样本** | 71 | 71% | 1-4种方法失败 |
| **易攻击样本** | 22 | 22% | 所有5种方法都成功 |

### 1.2 关键发现

⚠️ **发现7个硬样本**！这些样本对所有攻击方法都免疫。
占比：7%
样本ID：[11, 14, 21, 40, 44, 76, 79]

---

## 2. 方法特定失败分析

### 2.1 方法失败率

| 方法 | 总失败数 | 失败率 | 排名 |
|------|----------|--------|------|
| RandomSparse | 77 | 77.0% | #1 |
| PixelGrad | 60 | 60.0% | #2 |
| SparseFool | 20 | 20.0% | #3 |
| JSMA | 15 | 15.0% | #4 |
| Greedy | 15 | 15.0% | #5 |

### 2.2 分析

- **最脆弱方法:** RandomSparse (77.0%失败率)
- **最鲁棒方法:** Greedy (15.0%失败率)
- **失败率差异:** 62.0个百分点

---

## 3. 难度级别分析

### 3.1 按成功方法数分组

| 成功方法数 | 样本数 | 百分比 | 难度级别 |
|-----------|--------|--------|----------|
| 0 | 7 | 7% | 极难 |
| 1 | 6 | 6% | 困难 |
| 2 | 15 | 15% | 困难 |
| 3 | 33 | 33% | 中等 |
| 4 | 17 | 17% | 容易 |
| 5 | 22 | 22% | 容易 |

### 3.2 难度分布洞察

- **困难样本（0-2方法成功）:** 28个 (28%)
- **容易样本（4-5方法成功）:** 39个 (39%)
- **中等样本（3方法成功）:** 33个 (33%)

---

## 4. 失败原因分析（推测）

基于实验结果，我们推测失败的主要原因包括：

### 4.1 梯度相关问题
- **梯度消失/饱和:** 某些样本可能位于决策边界的平坦区域
- **梯度爆炸:** 梯度过大导致修改过激
- **梯度方向误导:** 梯度指向的方向不是最优攻击路径

### 4.2 决策边界问题
- **决策边界距离:** 某些样本距离决策边界很远
- **边界复杂度:** 决策边界过于复杂，难以找到稀疏路径
- **局部最优陷阱:** 贪心策略陷入局部最优

### 4.3 样本特征
- **高置信度预测:** 模型对这些样本的预测置信度很高
- **类别语义:** 某些类别本质上更难攻击
- **视觉特征:** 纹理简单或颜色单一的样本可能更难修改

---

## 5. 方法互补性分析

在71个部分失败样本中：

| 方法 | 成功次数 | 成功率 | 互补价值 |
|------|----------|--------|----------|
| JSMA | 63 | 88.7% | 高 |
| Greedy | 63 | 88.7% | 高 |
| SparseFool | 58 | 81.7% | 高 |
| PixelGrad | 18 | 25.4% | 低 |
| RandomSparse | 1 | 1.4% | 低 |

**互补性结论:**
- 不同方法在不同样本上有不同的成功率
- **组合使用**多种方法可以提高整体攻击成功率
- 建议：优先尝试成功率最高的方法，失败后尝试互补方法

---

## 6. 研究启示

### 6.1 对攻击方法的启示
1. **方法组合:** 不同方法有不同失败模式，组合使用可以提高成功率
2. **自适应选择:** 可以根据样本特征自动选择最适合的方法
3. **失败恢复:** 设计能够从局部最优逃逸的机制

### 6.2 对防御研究的启示
1. **鲁棒样本特征:** 分析硬样本的共同特征可以指导防御设计
2. **决策边界优化:** 增加决策边界的复杂度可能提高鲁棒性
3. **置信度校准:** 高置信度预测似乎对应更强的鲁棒性

### 6.3 论文价值
- ✅ 首次系统分析L0攻击的失败模式
- ✅ 揭示不同方法的互补性
- ✅ 为组合攻击策略提供理论基础
- ✅ 为防御研究提供新视角

---

## 7. 可视化索引

本分析生成了3张图表：

1. **failure_distribution.pdf** - 失败样本分布
   - 样本分类（硬/部分/易）
   - 成功方法数量分布

2. **method_failure_rates.pdf** - 方法失败率对比
   - 横向对比各方法的失败率

3. **difficulty_distribution.pdf** - 难度分布
   - 按成功方法数显示样本分布
   - 颜色编码难度级别

---

## 8. 下一步工作建议

1. **硬样本深入分析:**
   - 可视化硬样本图像
   - 分析其类别分布
   - 测量预测置信度

2. **失败原因验证:**
   - 计算梯度范数
   - 测量到决策边界的距离
   - 分析类别语义相似性

3. **组合攻击实验:**
   - 设计方法组合策略
   - 测试在硬样本上的效果


---

*报告生成时间: 2025-11-06 12:47:25*
