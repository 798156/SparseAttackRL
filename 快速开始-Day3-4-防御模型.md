# ğŸ›¡ï¸ Day 3-4 é˜²å¾¡æ¨¡å‹æµ‹è¯• - å¿«é€ŸæŒ‡å—

## ğŸ“‹ ä½ é€‰æ‹©çš„æ–¹æ¡ˆï¼šRobustBenché¢„è®­ç»ƒæ¨¡å‹ âœ…

**ä¼˜åŠ¿ï¼š**
- â° æœ€å¿«ï¼ˆ40-50åˆ†é’Ÿï¼‰
- â­ è´¨é‡æœ€å¥½ï¼ˆå­¦æœ¯ç•Œæ ‡å‡†ï¼‰
- ğŸ“š å¯ä¿¡åº¦é«˜ï¼ˆç¬¬ä¸‰æ–¹æƒå¨ï¼‰
- ğŸ¯ è®ºæ–‡å¼•ç”¨ä»·å€¼é«˜

---

## ğŸš€ æ‰§è¡Œæ­¥éª¤ï¼ˆæ€»å…±3æ­¥ï¼‰

### **æ­¥éª¤1ï¼šå®‰è£…RobustBench** â° 1-2åˆ†é’Ÿ

```bash
pip install robustbench
```

**è¯´æ˜ï¼š**
- RobustBenchæ˜¯å­¦æœ¯ç•Œæ ‡å‡†çš„é²æ£’æ¨¡å‹åº“
- åŒ…å«å¤šä¸ªå¯¹æŠ—è®­ç»ƒçš„CIFAR-10æ¨¡å‹
- è®ºæ–‡ï¼šCroce et al., "RobustBench: a standardized benchmark for adversarial robustness", NeurIPS 2020

---

### **æ­¥éª¤2ï¼šä¿®æ”¹æµ‹è¯•è„šæœ¬é…ç½®** â° 30ç§’

æ‰“å¼€ `test_on_defended_model.py`ï¼Œä¿®æ”¹é…ç½®ï¼š

```python
CONFIG = {
    # ... å…¶ä»–é…ç½®ä¿æŒä¸å˜ ...
    
    # ä¿®æ”¹è¿™ä¸¤è¡Œï¼š
    'defense_type': 'trades',  # ä»'custom'æ”¹ä¸º'trades'
    'test_samples': 100,  # ç¡®ä¿æ˜¯100
}
```

**å¯é€‰çš„é˜²å¾¡æ¨¡å‹ï¼š**
```python
# é€‰é¡¹1: TRADESè®­ç»ƒï¼ˆæ¨èï¼Œå¹³è¡¡çš„é˜²å¾¡ï¼‰
'defense_type': 'trades'
â†’ ä½¿ç”¨ Rice2020Overfitting æ¨¡å‹

# é€‰é¡¹2: PGDå¯¹æŠ—è®­ç»ƒï¼ˆæ›´å¿«ä½†ç¨å¼±ï¼‰
'defense_type': 'pgd'
â†’ ä½¿ç”¨ Wong2020Fast æ¨¡å‹

# é€‰é¡¹3: è‡ªå®šä¹‰æ¨¡å‹
'defense_type': 'custom'
â†’ ä½¿ç”¨ä½ è‡ªå·±è®­ç»ƒçš„æ¨¡å‹
```

**å»ºè®®ï¼š** ä½¿ç”¨ `'trades'`ï¼ˆé»˜è®¤æ¨èï¼‰

---

### **æ­¥éª¤3ï¼šè¿è¡Œæµ‹è¯•** â° 30-40åˆ†é’Ÿ

```bash
python test_on_defended_model.py
```

**æµ‹è¯•å†…å®¹ï¼š**
- 1ä¸ªé˜²å¾¡æ¨¡å‹ï¼ˆRobustBenchçš„å¯¹æŠ—è®­ç»ƒResNet18ï¼‰
- 5ç§æ”»å‡»æ–¹æ³•ï¼ˆJSMA, SparseFool, Greedy, RandomSparse, PixelGradï¼‰
- 100ä¸ªæ ·æœ¬
- æ€»è®¡ï¼š500ä¸ªå¯¹æŠ—æ ·æœ¬æµ‹è¯•

**é¢„è®¡æ—¶é—´åˆ†é…ï¼š**
- ä¸‹è½½æ¨¡å‹ï¼ˆé¦–æ¬¡ï¼‰ï¼š5-10åˆ†é’Ÿ
- JSMAæµ‹è¯•ï¼š~10åˆ†é’Ÿ
- SparseFoolæµ‹è¯•ï¼š~5åˆ†é’Ÿ
- Greedyæµ‹è¯•ï¼š~3åˆ†é’Ÿ
- RandomSparseæµ‹è¯•ï¼š~8åˆ†é’Ÿ
- PixelGradæµ‹è¯•ï¼š~5åˆ†é’Ÿ
- **æ€»è®¡ï¼š30-40åˆ†é’Ÿ**

---

## ğŸ“Š é¢„æœŸç»“æœ

### **é˜²å¾¡æ¨¡å‹çš„ç‰¹ç‚¹ï¼š**
```
æ ‡å‡†ResNet18å‡†ç¡®ç‡ï¼š~88%
é˜²å¾¡ResNet18å‡†ç¡®ç‡ï¼š~83-85%ï¼ˆç¨ä½ï¼Œä½†æ›´é²æ£’ï¼‰
```

### **é¢„æœŸASRå˜åŒ–ï¼š**

| æ–¹æ³• | æ ‡å‡†æ¨¡å‹ASR | é¢„æœŸé˜²å¾¡æ¨¡å‹ASR | é¢„æœŸä¸‹é™ |
|------|------------|----------------|---------|
| JSMA | 81.0% | 40-50% | ~30-40% â¬‡ï¸ |
| Greedy | 79.7% | 45-55% | ~25-35% â¬‡ï¸ |
| SparseFool | 76.3% | 40-50% | ~25-35% â¬‡ï¸ |
| PixelGrad | 49.0% | 20-35% | ~15-30% â¬‡ï¸ |
| RandomSparse | 27.7% | 10-20% | ~10-15% â¬‡ï¸ |

**å…³é”®ç‚¹ï¼š**
âœ… æ‰€æœ‰æ–¹æ³•ASRéƒ½ä¼šä¸‹é™ï¼ˆæ­£å¸¸ç°è±¡ï¼‰
âœ… **ç›¸å¯¹æ’ååº”è¯¥ä¿æŒä¸å˜**
âœ… RandomSparseä»ç„¶æ˜¯æœ€å·®çš„
âœ… æ™ºèƒ½æ–¹æ³•ä»ç„¶æ˜¾è‘—ä¼˜äºéšæœº

---

## ğŸ” æµ‹è¯•å®Œæˆåçš„æ£€æŸ¥

### **1. æ–‡ä»¶æ£€æŸ¥**
ç¡®ä¿ç”Ÿæˆäº†è¿™äº›æ–‡ä»¶ï¼š
```
results/defended_model/
â”œâ”€â”€ defended_jsma.json
â”œâ”€â”€ defended_sparsefool.json
â”œâ”€â”€ defended_greedy.json
â”œâ”€â”€ defended_randomsparse.json
â””â”€â”€ defended_pixelgrad.json
```

### **2. ç»“æœåˆç†æ€§æ£€æŸ¥**
- [ ] æ‰€æœ‰æ–¹æ³•çš„ASRéƒ½ä¸‹é™äº†ï¼Ÿ
- [ ] ä¸‹é™å¹…åº¦åœ¨20-50%ä¹‹é—´ï¼Ÿ
- [ ] RandomSparseä»ç„¶æ˜¯æœ€ä½çš„ï¼Ÿ
- [ ] ç›¸å¯¹æ’åå¤§è‡´ä¿æŒï¼Ÿ

### **3. å¯èƒ½çš„æœ‰è¶£å‘ç°**

**å‘ç°1ï¼šç›¸å¯¹æ’åä¿æŒ**
```
å¦‚æœï¼šæ ‡å‡†å’Œé˜²å¾¡æ¨¡å‹çš„æ’åå®Œå…¨ä¸€è‡´
â†’ è¯´æ˜ï¼šæ–¹æ³•çš„ç›¸å¯¹æ€§èƒ½åœ¨é˜²å¾¡åœºæ™¯ä¸‹ä¹Ÿç¨³å®š
â†’ è®ºæ–‡ä»·å€¼ï¼šè¯æ˜äº†æ–¹æ³•é€‰æ‹©çš„é²æ£’æ€§
```

**å‘ç°2ï¼šä¸åŒä¸‹é™å¹…åº¦**
```
å¦‚æœï¼šæŸäº›æ–¹æ³•ä¸‹é™æ›´å¤š/æ›´å°‘
â†’ è¯´æ˜ï¼šä¸åŒæ–¹æ³•å¯¹é˜²å¾¡çš„æ•æ„Ÿåº¦ä¸åŒ
â†’ è®ºæ–‡ä»·å€¼ï¼šæ–°çš„insightï¼Œå¯ä»¥ä¸“é—¨è®¨è®º
```

**å‘ç°3ï¼šRandomSparseç›¸å¯¹ç¨³å®š**
```
å¦‚æœï¼šRandomSparseä¸‹é™å¹…åº¦æœ€å°
â†’ è¯´æ˜ï¼šéšæœºæ–¹æ³•è™½ç„¶ASRä½ï¼Œä½†å¯¹é˜²å¾¡ä¸æ•æ„Ÿ
â†’ è®ºæ–‡ä»·å€¼ï¼šå¯¹æ¯”æ™ºèƒ½æ–¹æ³•çš„ä¼˜åŠ¿
```

---

## ğŸ“ˆ æµ‹è¯•å®Œæˆåçš„ä¸‹ä¸€æ­¥

### **ç«‹å³å¯åšï¼šç”Ÿæˆå¯¹æ¯”åˆ†æ**

æˆ‘ä¼šå¸®ä½ åˆ›å»ºå¯¹æ¯”åˆ†æè„šæœ¬ï¼š
```bash
python compare_standard_vs_defended.py
```

**è¾“å‡ºå†…å®¹ï¼š**
1. æ ‡å‡† vs é˜²å¾¡æ¨¡å‹å¯¹æ¯”è¡¨
2. ASRä¸‹é™å¹…åº¦å›¾è¡¨
3. ç›¸å¯¹æ€§èƒ½ä¿æŒåº¦åˆ†æ
4. è®ºæ–‡ç”¨çš„LaTeXè¡¨æ ¼

---

## âš ï¸ å¯èƒ½é‡åˆ°çš„é—®é¢˜

### **é—®é¢˜1ï¼šä¸‹è½½æ¨¡å‹å¾ˆæ…¢**
```
åŸå› ï¼šæ¨¡å‹æ–‡ä»¶è¾ƒå¤§ï¼ˆ~100MBï¼‰
è§£å†³ï¼šè€å¿ƒç­‰å¾…ï¼Œåªéœ€ä¸‹è½½ä¸€æ¬¡
```

### **é—®é¢˜2ï¼šæ¨¡å‹åç§°ä¸å­˜åœ¨**
```bash
# å¦‚æœæŠ¥é”™ï¼Œå°è¯•æŸ¥çœ‹å¯ç”¨æ¨¡å‹ï¼š
python -c "from robustbench import model_zoo; print(model_zoo.get_available_models())"

# æˆ–ä½¿ç”¨å…¶ä»–æ¨¡å‹ï¼š
'Gowal2020Uncovering_28_10_extra'
'Rebuffi2021Fixing_28_10_cutmix_ddpm'
```

### **é—®é¢˜3ï¼šå†…å­˜ä¸è¶³**
```
è§£å†³æ–¹æ¡ˆï¼š
1. å…³é—­å…¶ä»–ç¨‹åº
2. æˆ–å‡å°‘batch size
3. æˆ–å‡å°‘æµ‹è¯•æ ·æœ¬åˆ°50
```

---

## ğŸ’¡ é«˜çº§é€‰é¡¹ï¼ˆå¯é€‰ï¼‰

### **é€‰é¡¹1ï¼šæµ‹è¯•å¤šä¸ªé˜²å¾¡å¼ºåº¦**

å¦‚æœæ—¶é—´å……è¶³ï¼Œå¯ä»¥æµ‹è¯•å¤šä¸ªé˜²å¾¡æ¨¡å‹ï¼š

```python
# å¼±é˜²å¾¡
'Wong2020Fast'

# ä¸­ç­‰é˜²å¾¡
'Rice2020Overfitting'

# å¼ºé˜²å¾¡
'Wang2023Better_WRN-28-10'
```

**è®ºæ–‡ä»·å€¼ï¼š**
- å±•ç¤ºæ”»å‡»åœ¨ä¸åŒé˜²å¾¡å¼ºåº¦ä¸‹çš„è¡¨ç°
- æ›´å…¨é¢çš„è¯„ä¼°

**æ—¶é—´æˆæœ¬ï¼š** æ¯ä¸ªé¢å¤–æ¨¡å‹ +30-40åˆ†é’Ÿ

### **é€‰é¡¹2ï¼šåªæµ‹è¯•å‰3ä¸ªæ–¹æ³•**

å¦‚æœæ—¶é—´ç´§å¼ ï¼š
```python
# åªæµ‹è¯•æœ€é‡è¦çš„3ä¸ª
attack_methods = [
    ('JSMA', jsma_attack, CONFIG['JSMA']),
    ('Greedy', greedy_attack, CONFIG['Greedy']),
    ('RandomSparse', random_sparse_attack_smart, CONFIG['RandomSparse'])
]
```

**æ—¶é—´ï¼š** 15-20åˆ†é’Ÿ

---

## ğŸ¯ æ—¶é—´è§„åˆ’å»ºè®®

### **ä»Šå¤©ï¼ˆDay 3ï¼‰ï¼š**
```
14:00 - 14:02  å®‰è£…RobustBench
14:02 - 14:05  ä¿®æ”¹é…ç½®
14:05 - 14:50  è¿è¡Œæµ‹è¯•ï¼ˆå¯ä»¥å»ä¼‘æ¯ï¼‰
14:50 - 15:00  æ£€æŸ¥ç»“æœ

æ€»è®¡ï¼š~1å°æ—¶ï¼ˆå¤§éƒ¨åˆ†æ—¶é—´å¯ä»¥åšå…¶ä»–äº‹ï¼‰
```

### **æ˜å¤©ï¼ˆDay 4ï¼‰ï¼š**
```
- ç”Ÿæˆå¯¹æ¯”åˆ†æ
- åˆ›å»ºå›¾è¡¨
- æ•´ç†å‘ç°
- å‡†å¤‡è®ºæ–‡ç´ æ
```

---

## âœ… å®Œæˆæ ‡å¿—

Day 3-4å®Œæˆçš„æ ‡å¿—ï¼š
- [x] RobustBenchå®‰è£…æˆåŠŸ
- [x] é˜²å¾¡æ¨¡å‹æµ‹è¯•å®Œæˆ
- [x] ç”Ÿæˆäº†5ä¸ªç»“æœJSON
- [x] ç»“æœåˆç†ä¸”æœ‰ä»·å€¼
- [x] å¯¹æ¯”åˆ†æå®Œæˆ
- [x] å›¾è¡¨ç”Ÿæˆå®Œæˆ

---

## ğŸ“š è®ºæ–‡ä¸­å¦‚ä½•å¼•ç”¨

### **åœ¨Experimentsç« èŠ‚ï¼š**

```latex
\subsection{Evaluation on Defended Models}

To assess the practical applicability of sparse attack methods 
in realistic scenarios, we further evaluate all methods on 
adversarially trained models from RobustBench~\cite{croce2020robustbench}, 
a standardized benchmark for adversarial robustness.

We use the TRADES-trained ResNet18 model~\cite{rice2020overfitting}, 
which achieves 83.5\% clean accuracy and demonstrates strong 
robustness against $\ell_\infty$ attacks.

Results are shown in Table~\ref{tab:defended_comparison}.
```

### **åœ¨Referencesä¸­æ·»åŠ ï¼š**

```latex
@article{croce2020robustbench,
  title={RobustBench: a standardized adversarial robustness benchmark},
  author={Croce, Francesco and Andriushchenko, Maksym and others},
  journal={arXiv preprint arXiv:2010.09670},
  year={2020}
}

@inproceedings{rice2020overfitting,
  title={Overfitting in adversarially robust deep learning},
  author={Rice, Leslie and Wong, Eric and Kolter, Zico},
  booktitle={ICML},
  year={2020}
}
```

---

## ğŸ‰ æ€»ç»“

**ä½ çš„é€‰æ‹©ï¼ˆRobustBenchï¼‰æ˜¯æœ€å¥½çš„ï¼**

**ä¼˜åŠ¿ï¼š**
- âœ… çœæ—¶é—´ï¼ˆ40-50åˆ†é’Ÿï¼‰
- âœ… è´¨é‡é«˜ï¼ˆå­¦æœ¯æ ‡å‡†ï¼‰
- âœ… å¯ä¿¡åº¦å¼ºï¼ˆæƒå¨æ¥æºï¼‰
- âœ… è®ºæ–‡ä»·å€¼é«˜ï¼ˆå¯ç›´æ¥å¼•ç”¨ï¼‰

**å‡†å¤‡å¥½äº†å—ï¼Ÿ**

ç°åœ¨å°±å¯ä»¥å¼€å§‹ï¼š
```bash
pip install robustbench
python test_on_defended_model.py
```

**æœ‰ä»»ä½•é—®é¢˜éšæ—¶é—®æˆ‘ï¼** ğŸ’ª
















